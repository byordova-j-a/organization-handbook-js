(()=>{"use strict";var t,e={122:(t,e,i)=>{i.d(e,{A:()=>o});var n=i(601),s=i.n(n),a=i(314),r=i.n(a)()(s());r.push([t.id,"input-field {\n  display: block;\n}\n.input {\n  font-family: '18vag';\n  font-size: 24px;\n  line-height: 36px;\n  border: 1px solid black;\n  padding: 4px 10px;\n  width: 100%;\n  box-sizing: border-box;\n}\n.input_invalid {\n  border: 1px solid red;\n}\ninput:focus-visible {\n  outline: none;\n}\n",""]);const o=r},238:(t,e,i)=>{i.d(e,{A:()=>o});var n=i(601),s=i.n(n),a=i(314),r=i.n(a)()(s());r.push([t.id,"action-button {\n  display: block;\n  width: min-content;\n}\n\n.button {\n  padding: 10px 20px;\n  width: min-content;\n  border-radius: 10px;\n  user-select: none;\n  cursor: pointer;\n  text-wrap: nowrap;\n  background-color: #b6c6ec;\n  font-family: '18vag';\n  font-weight: normal;\n  font-size: 20px;\n}\n\n.button_disabled {\n  pointer-events: none;\n  background-color: #9799a1;\n}\n\n.button_blue:not(.button_disabled) {\n  background-color: #b6c6ec;\n}\n\n.button_blue:not(.button_disabled):hover {\n  background-color: rgb(138, 166, 227);\n}\n\n.button_red:not(.button_disabled) {\n  background-color: #f0593a;\n}\n\n.button_red:not(.button_disabled):hover {\n  background-color: #e23a19;\n}\n",""]);const o=r},274:(t,e,i)=>{i.d(e,{A:()=>u});var n=i(601),s=i.n(n),a=i(314),r=i.n(a),o=i(417),l=i.n(o),d=new URL(i(480),i.b),c=r()(s()),h=l()(d);c.push([t.id,`body {\n  margin: 0;\n  height: 100vh;\n  background-color: #e6edfd;\n}\np {\n  margin: 0;\n}\n\n@font-face {\n  font-family: '18vag';\n  src: url(${h});\n  font-weight: 500;\n  font-style: normal;\n}\n`,""]);const u=c},278:(t,e,i)=>{i.d(e,{A:()=>o});var n=i(601),s=i.n(n),a=i(314),r=i.n(a)()(s());r.push([t.id,".table-row {\n  display: flex;\n  width: 100%;\n  font-family: '18vag';\n  font-weight: normal;\n  font-size: 20px;\n  cursor: default;\n}\n\n.table-row__cell {\n  width: 20%;\n  word-break: break-all;\n  padding: 10px 20px;\n  box-sizing: border-box;\n}\n\n.table-row__cell:nth-child(4) {\n  width: 30%;\n}\n.table-row__cell:nth-child(5) {\n  width: 10%;\n  justify-content: center;\n  user-select: none;\n  border-right: 1px solid black;\n  cursor: pointer;\n}\n\n.table-row__cell {\n  border: 1px solid black;\n  border-right: none;\n  display: flex;\n  align-items: center;\n}\n\n.table-row__cell {\n  border-top: none;\n}\n.table-row:hover {\n  background-color: rgb(183, 183, 224);\n}\n",""]);const o=r},421:(t,e,i)=>{i.d(e,{A:()=>o});var n=i(601),s=i.n(n),a=i(314),r=i.n(a)()(s());r.push([t.id,".table-handbook {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n.table-handbook__header {\n  display: flex;\n  font-family: '18vag';\n  font-weight: normal;\n  font-size: 24px;\n  user-select: none;\n  cursor: default;\n  background-color: rgb(183, 183, 224);\n}\n\n.header-cell:nth-child(1),\n.header-cell:nth-child(2) {\n  cursor: pointer;\n}\n\n.header_sort_organization .header-cell_organization::after,\n.header_sort_director .header-cell_director::after {\n  content: '↓';\n  display: block;\n  position: relative;\n  transform: translateY(-10%);\n}\n\n.header_sort_reverse.header_sort_organization .header-cell_organization::after,\n.header_sort_reverse.header_sort_director .header-cell_director::after {\n  transform: rotate(180deg);\n}\n\n.header-cell {\n  width: 20%;\n  word-break: break-all;\n  border: 1px solid black;\n  border-right: none;\n  padding: 15px 20px;\n  box-sizing: border-box;\n  display: flex;\n}\n\n.header-cell:nth-child(4) {\n  width: 30%;\n}\n.header-cell:nth-child(5) {\n  width: 10%;\n  border-right: 1px solid black;\n}\n.table-row_hidden {\n  display: none;\n}\n",""]);const o=r},480:(t,e,i)=>{t.exports=i.p+"fonts/18VAG-Rounded-M-Normal.ttf"},614:(t,e,i)=>{i.d(e,{A:()=>o});var n=i(601),s=i.n(n),a=i(314),r=i.n(a)()(s());r.push([t.id,"organization-form {\n  display: block;\n  position: absolute;\n  width: 100%;\n  height: 100vh;\n  top: 0;\n  left: 0;\n}\n\n.hidden {\n  display: none;\n}\n\n.blackout {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(53, 58, 90, 0.24);\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.organization-form {\n  font-family: '18vag';\n  font-size: 24px;\n  user-select: none;\n  width: 820px;\n  height: 500px;\n  background-color: white;\n  border: 1px solid black;\n  display: flex;\n  flex-direction: column;\n  padding: 40px;\n  gap: 20px;\n}\n\n.organization-form__heading {\n  font-size: 28px;\n  align-self: center;\n}\n\n.organization-form__field {\n  display: flex;\n  align-items: center;\n}\n\n.organization-form__field-label {\n  width: 220px;\n}\n\n.organization-form__input-field {\n  display: flex;\n  flex-grow: 1;\n}\n\n.organization-form__input-field input {\n  width: 100%;\n}\n\n.organization-form__buttons {\n  display: flex;\n  justify-content: space-between;\n}\n",""]);const o=r},741:(t,e,i)=>{i.d(e,{A:()=>o});var n=i(601),s=i.n(n),a=i(314),r=i.n(a)()(s());r.push([t.id,"controller-component {\n  display: block;\n}\n\n.page {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  gap: 20px;\n}\n",""]);const o=r},902:(t,e,i)=>{var n=i(72),s=i.n(n),a=i(825),r=i.n(a),o=i(659),l=i.n(o),d=i(56),c=i.n(d),h=i(540),u=i.n(h),p=i(113),g=i.n(p),m=i(274),v={};v.styleTagTransform=g(),v.setAttributes=c(),v.insert=l().bind(null,"head"),v.domAPI=r(),v.insertStyleElement=u(),s()(m.A,v),m.A&&m.A.locals&&m.A.locals;var b=i(238),f={};f.styleTagTransform=g(),f.setAttributes=c(),f.insert=l().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=u(),s()(b.A,f),b.A&&b.A.locals&&b.A.locals;const E=/^\+7-[0-9]{3}-[0-9]{3}-[0-9]{2}-[0-9]{2}$/,w=/^[1-9]\d*$/,_=(t,e)=>new CustomEvent(t,{bubbles:!0,detail:e});function y(t,e){switch(t){case"true":return!0;case"false":return!1;default:return e}}function O(t,e){return w.test(t)?+t:e}function A(t,e){return new Proxy(t,{set:(t,i,n)=>(e(i,n),Reflect.set(t,i,n))})}var I,k,C,T,P,z;!function(t){t.BLUE="blue",t.RED="red"}(I||(I={})),function(t){t.SEARCH="search",t.NUMBER="number",t.PHONE="phone",t.TEXT="text"}(k||(k={})),function(t){t.ORGANIZATION="organization",t.DIRECTOR="director"}(C||(C={})),function(t){t.ID="id",t.ORGANIZATION="organization",t.DIRECTOR="director",t.PHONE="phone",t.ADDRESS="address"}(T||(T={})),function(t){t.CITY="city",t.STREET="street",t.HOUSE="house"}(P||(P={})),function(t){t.PREVIOUS="previous",t.NEXT="next"}(z||(z={}));const S="button_disabled";function x(){if(this.disabled)return;const t=_("action-button-click",{});this.dispatchEvent(t)}class R extends HTMLElement{constructor(){if(super(),this.emitClickEvent=x,this.innerHTML='<div class="button"></div> ',this.button=this.getElementsByClassName("button")[0]||null,this.view=A({disabled:!1},(t,e)=>{e?this.button.classList.add(S):this.button.classList.remove(S)}),this.button){this.button.textContent=this.getAttribute("text")||"";const t=this.getAttribute("color")||I.BLUE;this.button.classList.add(`button_${t}`)}this.addEventListener("click",this.emitClickEvent)}static get observedAttributes(){return["disabled"]}attributeChangedCallback(t,e,i){e!==i&&(this.view.disabled=y(i,!1))}disconnectedCallback(){this.removeEventListener("click",x)}}var L=i(122),N={};N.styleTagTransform=g(),N.setAttributes=c(),N.insert=l().bind(null,"head"),N.domAPI=r(),N.insertStyleElement=u(),s()(L.A,N),L.A&&L.A.locals&&L.A.locals;var D=i(139);const V="input_invalid";function B({isValid:t,inputWasInteracted:e}){this.inputElement&&(!t&&e?this.inputElement.classList.add(V):this.inputElement.classList.remove(V))}function H(t){const e=_("value:updated",{value:t});this.dispatchEvent(e)}const M=(0,D.A)(H,400);function j(){this.inputElement.value=this.value}function U(t){let e;switch(this.type){case k.NUMBER:e=w.test(t);break;case k.PHONE:e=E.test(t);break;default:e=!!t.trim()}const i=_("isValid:updated",{isValid:e});this.dispatchEvent(i)}class F extends HTMLElement{constructor(){super(),this.updateInvalidClass=B,this.setInputValue=j,this.validate=U,this.emitValueEvent=H,this.debouncedEmitValueEvent=M,this.inputHandler=t=>{const{value:e}=t.target;this.type===k.SEARCH?this.debouncedEmitValueEvent(e):this.emitValueEvent(e)},this.setValidationDisplay=()=>{this.type===k.SEARCH||this.view.inputWasInteracted||(this.view.inputWasInteracted=!0)},this.innerHTML='<input class="input"/> ',this.inputElement=this.getElementsByTagName("input")[0]||null,this.view=A({inputWasInteracted:!1,isValid:!1,resetValidationDisplay:!1,value:""},(t,e)=>{const{isValid:i,inputWasInteracted:n}=this.view;switch(t){case"inputWasInteracted":this.updateInvalidClass({isValid:i,inputWasInteracted:e});break;case"isValid":this.updateInvalidClass({isValid:e,inputWasInteracted:n});break;case"resetValidationDisplay":e&&(this.view.inputWasInteracted=!1);break;case"value":if(this.inputElement){const t=e;this.inputElement.value=t,this.validate(t)}}}),this.view.isValid=y(this.getAttribute("is-valid"),!0),this.view.resetValidationDisplay=y(this.getAttribute("reset-validation-display"),!1),this.view.value=this.getAttribute("value")||"",this.type=this.getAttribute("type"),this.inputType=this.type===k.PHONE||k.NUMBER?k.TEXT:this.type,this.inputElement&&(this.inputElement.placeholder=this.getAttribute("placeholder")||"",this.inputElement.type=this.inputType,this.type!==k.NUMBER?this.inputElement.maxLength=4:this.inputElement.maxLength=255,this.inputElement.addEventListener("input",this.inputHandler),this.inputElement.addEventListener("blur",this.setValidationDisplay))}static get observedAttributes(){return["is-valid","reset-validation-display","value"]}attributeChangedCallback(t,e,i){if(e!==i)switch(t){case"is-valid":this.view.isValid=y(i,!0);break;case"reset-validation-display":this.view.resetValidationDisplay=y(i,!1);break;case"value":this.view.value=i}}disconnectedCallback(){this.inputElement&&(this.inputElement.removeEventListener("input",this.inputHandler),this.inputElement.removeEventListener("blur",this.setValidationDisplay))}}var G=i(914),Z={};Z.styleTagTransform=g(),Z.setAttributes=c(),Z.insert=l().bind(null,"head"),Z.domAPI=r(),Z.insertStyleElement=u(),s()(G.A,Z),G.A&&G.A.locals&&G.A.locals;const $="page-switcher_btn-disabled-1",W="page-switcher_btn-disabled-2";function Y({currentPage:t,totalPages:e}){this.rootElem&&(1===t?this.rootElem.classList.add($):this.rootElem.classList.remove($),t===e?this.rootElem.classList.add(W):this.rootElem.classList.remove(W))}function X(t){if(t===z.PREVIOUS&&1===this.view.currentPage||t===z.NEXT&&this.view.currentPage===this.view.totalPages)return;const e=_("switch-page",{type:t});this.dispatchEvent(e)}class J extends HTMLElement{constructor(){super(),this.emitClickEvent=X,this.previousButtonClick=()=>{this.emitClickEvent(z.PREVIOUS)},this.nextButtonClick=()=>{this.emitClickEvent(z.NEXT)},this.updateDisabledClass=Y,this.innerHTML='<div class="page-switcher"> <div class="page-switcher__button page-switcher__button_previous">&lt;</div> <div class="page-switcher__counter counter"> <div class="counter__current-page"></div> <div class="counter__slash">\\</div> <div class="counter__total-pages"></div> </div> <div class="page-switcher__button page-switcher__button_next">&gt;</div> </div> ',this.rootElem=this.getElementsByClassName("page-switcher")[0]||null,this.currentPageElement=this.getElementsByClassName("counter__current-page")[0]||null,this.totalPagesElement=this.getElementsByClassName("counter__total-pages")[0]||null,this.view=A({currentPage:1,totalPages:1},(t,e)=>{const{currentPage:i,totalPages:n}=this.view;switch(t){case"currentPage":this.currentPageElement&&(this.currentPageElement.textContent=e.toString(),this.updateDisabledClass({currentPage:e,totalPages:n}));break;case"totalPages":this.totalPagesElement&&(this.totalPagesElement.textContent=e.toString(),this.updateDisabledClass({currentPage:i,totalPages:e}))}}),this.view.currentPage=O(this.getAttribute("current-page"),1),this.view.totalPages=O(this.getAttribute("total-pages"),1),this.previousButton=this.getElementsByClassName("page-switcher__button_previous")[0]||null,this.nextButton=this.getElementsByClassName("page-switcher__button_next")[0]||null,this.previousButton&&this.previousButton.addEventListener("click",this.previousButtonClick),this.nextButton&&this.nextButton.addEventListener("click",this.nextButtonClick)}static get observedAttributes(){return["total-pages","current-page"]}attributeChangedCallback(t,e,i){if(e!==i)switch(t){case"current-page":this.view.currentPage=O(i,1);break;case"total-pages":this.view.totalPages=O(i,1)}}disconnectedCallback(){this.previousButton&&this.previousButton.removeEventListener("click",this.previousButtonClick),this.nextButton&&this.nextButton.removeEventListener("click",this.nextButtonClick)}}var q=i(278),K={};function Q(){const{director:t,organization:e,phone:i}=this.view,n=_("edit",{item:{director:t,organization:e,phone:i,[T.ID]:O(this.getAttribute("id"),0),address:Object.assign({},this.address)}});this.dispatchEvent(n)}function tt(){return`г. ${this.address.city}, ул. ${this.address.street}, д. ${this.address.house}`}K.styleTagTransform=g(),K.setAttributes=c(),K.insert=l().bind(null,"head"),K.domAPI=r(),K.insertStyleElement=u(),s()(q.A,K),q.A&&q.A.locals&&q.A.locals;class et extends HTMLElement{constructor(){super(),this.rowFieldElementsConfig={[T.ORGANIZATION]:null,[T.DIRECTOR]:null,[T.PHONE]:null,[T.ADDRESS]:null},this.getAddress=tt,this.emitDeveteEvent=t=>{t.stopPropagation();const e=_("delete",{id:O(this.getAttribute("id"),0)});this.dispatchEvent(e)},this.emitEditEvent=Q,this.innerHTML='<div class="table-row"> <div class="table-row__cell table-row__cell_organization"></div> <div class="table-row__cell table-row__cell_director"></div> <div class="table-row__cell table-row__cell_phone"></div> <div class="table-row__cell table-row__cell_address"></div> <div class="table-row__cell table-row__cell_delete">X</div> </div> ',[T.ORGANIZATION,T.DIRECTOR,T.PHONE,T.ADDRESS].forEach(t=>{this.rowFieldElementsConfig[t]=this.getElementsByClassName(`table-row__cell_${t}`)[0]||null,this.rowFieldElementsConfig[t]}),this.view=A({[T.ORGANIZATION]:"",[T.DIRECTOR]:"",[T.PHONE]:"",[T.ADDRESS]:""},(t,e)=>{this.rowFieldElementsConfig[t]&&(this.rowFieldElementsConfig[t].textContent=e)}),this.address={[P.CITY]:"",[P.STREET]:"",[P.HOUSE]:1},this.deleteElement=this.getElementsByClassName("table-row__cell_delete")[0]||null,this.deleteElement&&this.deleteElement.addEventListener("click",this.emitDeveteEvent),this.addEventListener("click",Q)}static get observedAttributes(){return[T.ORGANIZATION,T.DIRECTOR,T.PHONE,P.CITY,P.STREET,P.HOUSE]}attributeChangedCallback(t,e,i){if(e!==i)switch(t){case P.CITY:case P.STREET:case P.HOUSE:t===P.HOUSE?this.address[t]=O(i,1):this.address[t]=i,this.view[T.ADDRESS]=this.getAddress();break;case T.ORGANIZATION:case T.DIRECTOR:case T.PHONE:this.view[t]=i}}disconnectedCallback(){this.deleteElement&&this.deleteElement.removeEventListener("click",this.emitDeveteEvent),this.removeEventListener("click",Q)}}var it=i(421),nt={};nt.styleTagTransform=g(),nt.setAttributes=c(),nt.insert=l().bind(null,"head"),nt.domAPI=r(),nt.insertStyleElement=u(),s()(it.A,nt),it.A&&it.A.locals&&it.A.locals;const st=Array.from(Array(10).keys());function at(t){t.stopPropagation();const e=_("delete-item",{id:t.detail.id});this.dispatchEvent(e)}function rt(t){t.stopPropagation();const{item:e}=t.detail,i=_("edit-item",{item:e});this.dispatchEvent(i)}function ot(t){if(t!==C.ORGANIZATION&&t!==C.DIRECTOR)return;let e=this.sortParams.type,i=this.sortParams.order;t===this.sortParams.type?i=-1*this.sortParams.order:(e=t,i=1);const n=_("sortItems",{params:{type:e,order:i}});this.dispatchEvent(n)}function lt(){this.items=JSON.parse(this.getAttribute("items"))||[],this.items.forEach((t,e)=>{this.tableRowElemList[e].classList.remove("table-row_hidden"),Object.values(T).forEach(i=>{i!==T.ADDRESS&&this.tableRowElemList[e].setAttribute(i,t[i]),i===T.ADDRESS&&Object.values(P).forEach(n=>{this.tableRowElemList[e].setAttribute(n,t[i][n].toString())})})}),st.slice(this.items.length,10).forEach(t=>{this.tableRowElemList[t].classList.add("table-row_hidden")})}function dt(){if(this.sortParams=JSON.parse(this.getAttribute("sort-params"))||{type:C.ORGANIZATION,order:1},!this.headerElem)return;let t="header_sort",e="header_sort_reverse";-1===this.sortParams.order&&(t="header_sort_reverse",e="header_sort");const i=`header_sort_${this.sortParams.type}`,n=`header_sort_${this.sortParams.type===C.ORGANIZATION?C.DIRECTOR:C.ORGANIZATION}`;this.headerElem.classList.remove(e,n),this.headerElem.classList.add(t,i)}class ct extends HTMLElement{constructor(){super(),this.displayItems=lt,this.setSortParams=dt,this.headerCellClick=ot,this.headerOrganizationElemClick=()=>{this.headerCellClick(C.ORGANIZATION)},this.headerDirectorElemClick=()=>{this.headerCellClick(C.DIRECTOR)},this.innerHTML='<div class="table-handbook"> <div class="table-handbook__header header" :class="headerClass"> <div class="header-cell header-cell_organization">Название</div> <div class="header-cell header-cell_director">ФИО директора</div> <div class="header-cell">Номер телефона</div> <div class="header-cell">Адрес</div> <div class="header-cell"></div> </div> <table-row class="table-row_hidden"></table-row> <table-row class="table-row_hidden"></table-row> <table-row class="table-row_hidden"></table-row> <table-row class="table-row_hidden"></table-row> <table-row class="table-row_hidden"></table-row> <table-row class="table-row_hidden"></table-row> <table-row class="table-row_hidden"></table-row> <table-row class="table-row_hidden"></table-row> <table-row class="table-row_hidden"></table-row> <table-row class="table-row_hidden"></table-row> </div> ',this.headerElem=this.getElementsByClassName("header")[0]||null,this.tableRowElemList=[...this.getElementsByTagName("table-row")],this.headerOrganizationElem=this.getElementsByClassName("header-cell_organization")[0]||null,this.headerDirectorElem=this.getElementsByClassName("header-cell_director")[0]||null,this.headerOrganizationElem&&this.headerOrganizationElem.addEventListener("click",this.headerOrganizationElemClick),this.headerDirectorElem&&this.headerDirectorElem.addEventListener("click",this.headerDirectorElemClick),this.addEventListener("delete",at),this.addEventListener("edit",rt)}static get observedAttributes(){return["items","sort-params"]}attributeChangedCallback(t,e,i){if(e!==i)switch(t){case"items":this.displayItems();break;case"sort-params":this.setSortParams()}}disconnectedCallback(){this.headerOrganizationElem&&this.headerOrganizationElem.removeEventListener("click",this.headerOrganizationElemClick),this.headerDirectorElem&&this.headerDirectorElem.removeEventListener("click",this.headerDirectorElemClick),this.removeEventListener("delete",at),this.removeEventListener("edit",rt)}}var ht=i(741),ut={};ut.styleTagTransform=g(),ut.setAttributes=c(),ut.insert=l().bind(null,"head"),ut.domAPI=r(),ut.insertStyleElement=u(),s()(ht.A,ut),ht.A&&ht.A.locals&&ht.A.locals;const pt=new Intl.Collator("ru-RU");let gt=[{id:1,organization:"ДинамикаПлюс",director:"Иванов А.А.",phone:"+7-912-345-67-89",address:{city:"Новосибирск",street:"Зелёная",house:8}},{id:2,organization:"ТехноВектор",director:"Петрова М.В.",phone:"+7-913-456-78-90",address:{city:"Челябинск",street:"Солнечная",house:22}},{id:3,organization:"ЭкоБлоссом",director:"Сидоров К.Н.",phone:"+7-914-567-89-01",address:{city:"Омск",street:"Тихая",house:1}},{id:4,organization:"НексусГрупп",director:"Смирнова О.П.",phone:"+7-915-678-90-12",address:{city:"Ростов-на-Дону",street:"Лесная",house:14}},{id:5,organization:"СоларисИнновации",director:"Волкова Е.А.",phone:"+7-917-890-12-34",address:{city:"Воронеж",street:"Сказочная",house:3}},{id:6,organization:"ГлобалМедиа",director:"Фёдоров И.И.",phone:"+7-917-890-12-34",address:{city:"Саратов",street:"Ветер Перемен",house:9}},{id:7,organization:"Выпьем за любовь",director:"Николаев И.Ю.",phone:"+7-918-901-23-45",address:{city:"Москва",street:"Хрустальная",house:6}},{id:8,organization:"СтартАП Эксперт",director:"Васильев Р.А.",phone:"+7-919-012-34-56",address:{city:"Тольятти",street:"Спортивная",house:2}},{id:9,organization:"АльфаАльф",director:"Альф А.А.",phone:"+7-920-123-45-67",address:{city:"Андромеда",street:"Мелмак",house:17}},{id:10,organization:"НебоКод",director:"Сергеева Л.М.",phone:"+7-921-234-56-78",address:{city:"Ижевск",street:"Сказок",house:22}},{id:11,organization:"Вкусные Мгновения",director:"Григорьева Н.В.",phone:"+7-923-456-78-90",address:{city:"Казань",street:"Летняя",house:8}},{id:12,organization:"АртМир Дизайн",director:"Романов А.Н.",phone:"+7-925-678-90-12",address:{city:"Санкт-Петербург",street:"Утренний Рассвет",house:5}}];const mt={organizationList:[],unicId:gt.length+1,totalItems:gt.length};function vt(t,e,i){this.store.fetchOrganizationList(t,e,i)}function bt(t){t.stopPropagation();const{type:e}=t.detail;e===z.NEXT?this.view.currentPage++:this.view.currentPage--,this.fetchOrganizationList(this.view.currentPage,this.view.sortParams,this.view.filterInputValue)}function ft(t){t.stopPropagation();const{params:e}=t.detail;this.view.sortParams=e}class Et extends HTMLElement{constructor(){super(),this.switchPage=bt,this.fetchOrganizationList=vt,this.updateSortParams=ft,this.deleteOrganization=t=>{t.stopPropagation();const{id:e}=t.detail;this.store.deleteOrganization(e),this.view.totalPages<this.view.currentPage&&this.view.currentPage--,this.store.fetchOrganizationList(this.view.currentPage,this.view.sortParams,this.view.filterInputValue)},this.openEditModal=t=>{t.stopPropagation(),this.view.data=t.detail.item,this.view.isModalShown=!0},this.openCreateModal=t=>{t.stopPropagation(),this.view.isModalShown=!0},this.addItem=t=>{t.stopPropagation();const{item:e}=t.detail;this.view.isModalShown=!1,this.store.addOrganization(e),this.store.fetchOrganizationList(this.view.currentPage,this.view.sortParams,this.view.filterInputValue)},this.editItem=t=>{t.stopPropagation();const{item:e}=t.detail;this.view.isModalShown=!1,this.view.data=null,this.store.updateOrganization(e),this.store.fetchOrganizationList(this.view.currentPage,this.view.sortParams,this.view.filterInputValue)},this.setFilterInputValue=t=>{t.stopPropagation();const{value:e}=t.detail;this.view.filterInputValue=e},this.closeModal=t=>{t.stopPropagation(),this.view.isModalShown=!1,this.view.data=null},this.innerHTML='<div class="page"> <action-button class="add-button" text="Добавить" color="red"></action-button> <input-field class="search-field" type="search" placeholder="Найти по ФИО..."></input-field> <table-handbook></table-handbook> <page-switcher></page-switcher> <organization-form></organization-form> </div> ',this.tableHandbook=this.getElementsByTagName("table-handbook")[0],this.pageSwitcher=this.getElementsByTagName("page-switcher")[0],this.filterInput=this.getElementsByClassName("search-field")[0],this.addButton=this.getElementsByClassName("add-button")[0],this.modalWindow=this.getElementsByTagName("organization-form")[0],this.view=A({items:[],currentPage:0,totalPages:0,sortParams:null,filterInputValue:"",isModalShown:!1,data:null},(t,e)=>{switch(t){case"items":this.tableHandbook&&this.tableHandbook.setAttribute("items",JSON.stringify(e));break;case"currentPage":this.pageSwitcher&&this.pageSwitcher.setAttribute("current-page",e.toString());break;case"totalPages":this.pageSwitcher&&this.pageSwitcher.setAttribute("total-pages",e.toString());break;case"sortParams":if(this.tableHandbook){const t=JSON.stringify(e);this.tableHandbook.setAttribute("sort-params",t),this.view.currentPage=1,this.fetchOrganizationList(this.view.currentPage,e,this.view.filterInputValue)}break;case"filterInputValue":if(this.filterInput){const t=e.toString();this.filterInput.setAttribute("value",t),this.view.currentPage=1,this.fetchOrganizationList(this.view.currentPage,this.view.sortParams,t)}break;case"isModalShown":this.modalWindow&&this.modalWindow.setAttribute("is-shown",e.toString());break;case"data":this.modalWindow&&this.modalWindow.setAttribute("data",JSON.stringify(e))}}),this.store=(t=>{const e=new Proxy(mt,t);return{getOrganizationList:()=>e.organizationList,getTotalItems:()=>e.totalItems,fetchOrganizationList(t,i,n){const s=new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),{type:a,order:r}=i,o=gt.filter(({director:t})=>s.test(t)).sort((t,e)=>r*pt.compare(t[a],e[a]));e.totalItems=o.length,e.organizationList=o.slice(10*(t-1),10*t)},addOrganization(t){const i=Object.assign(Object.assign({},t),{id:e.unicId});gt.push(i),e.unicId++,e.totalItems++},updateOrganization(t){gt=gt.map(e=>e.id===t.id?t:e)},deleteOrganization(t){gt=gt.filter(e=>e.id!==t),e.totalItems--}}})({set:(t,e,i)=>{var n;return"organizationList"===e&&(this.view.items=i),"totalItems"===e&&(this.view.totalPages=(n=i,Math.trunc((n-1)/10)+1)),Reflect.set(t,e,i)}}),this.view.currentPage=1,this.view.isModalShown=!1,this.view.sortParams={type:C.ORGANIZATION,order:1},this.fetchOrganizationList(this.view.currentPage,this.view.sortParams,this.view.filterInputValue),this.filterInput&&this.filterInput.addEventListener("value:updated",this.setFilterInputValue),this.tableHandbook.addEventListener("delete-item",this.deleteOrganization),this.tableHandbook.addEventListener("edit-item",this.openEditModal),this.addButton.addEventListener("action-button-click",this.openCreateModal),this.addEventListener("add-item",this.addItem),this.addEventListener("edit-item",this.editItem),this.addEventListener("close-modal",this.closeModal),this.addEventListener("switch-page",this.switchPage),this.addEventListener("sortItems",this.updateSortParams)}disconnectedCallback(){this.filterInput&&this.filterInput.removeEventListener("value:updated",this.setFilterInputValue),this.tableHandbook.removeEventListener("delete-item",this.deleteOrganization),this.tableHandbook.removeEventListener("edit-item",this.openEditModal),this.addButton.removeEventListener("action-button-click",this.openCreateModal),this.removeEventListener("add-item",this.addItem),this.removeEventListener("edit-item",this.editItem),this.removeEventListener("close-modal",this.closeModal),this.removeEventListener("switch-page",this.switchPage),this.removeEventListener("sortItems",this.updateSortParams)}}var wt=i(614),_t={};_t.styleTagTransform=g(),_t.setAttributes=c(),_t.insert=l().bind(null,"head"),_t.domAPI=r(),_t.insertStyleElement=u(),s()(wt.A,_t),wt.A&&wt.A.locals&&wt.A.locals;var yt=i(1);const Ot=[P.CITY,P.STREET,P.HOUSE,T.DIRECTOR,T.ORGANIZATION,T.PHONE],At={[T.ORGANIZATION]:!1,[T.DIRECTOR]:!1,[T.PHONE]:!1,[P.CITY]:!1,[P.STREET]:!1,[P.HOUSE]:!1},It={[T.ORGANIZATION]:"",[T.DIRECTOR]:"",[T.PHONE]:"",[P.CITY]:"",[P.STREET]:"",[P.HOUSE]:""},kt="hidden";function Ct(t){Object.values(Ot).forEach(e=>{const i=this.inputElemConfig[e];i&&i.setAttribute("value",t[e].toString())})}function Tt(t){Object.values(Ot).forEach(e=>{const i=this.inputElemConfig[e];i&&i.setAttribute("reset-validation-display",t.toString())})}class Pt extends HTMLElement{constructor(){super(),this.inputElemConfig={[T.ORGANIZATION]:null,[T.DIRECTOR]:null,[T.PHONE]:null,[P.CITY]:null,[P.STREET]:null,[P.HOUSE]:null},this.setInitialInputFieldValues=Ct,this.setInputResetValidationDisplay=Tt,this.updateFieldValidationState=t=>{t.stopPropagation();const{target:e,detail:i}=t;if(!e)return;const n=e.getAttribute("id");this.view.isFormFieldsValid[n]=i.isValid,this.view.isValid=Object.values(this.view.isFormFieldsValid).every(t=>!!t),e.setAttribute("is-valid",i.isValid.toString())},this.updateFieldsValue=t=>{t.stopPropagation();const{target:e,detail:i}=t;if(!e)return;const n=e.getAttribute("id");e.setAttribute("value",i.value.toString()),this.view.formValues[n]=i.value},this.confirmButtonClick=t=>{if(t.stopPropagation(),!this.view.isValid)return;const{formValues:e}=this.view,i={[T.ORGANIZATION]:e[T.ORGANIZATION].trim(),[T.DIRECTOR]:e[T.DIRECTOR].trim(),[T.PHONE]:e[T.PHONE].trim(),[T.ADDRESS]:{[P.CITY]:e[P.CITY].trim(),[P.STREET]:e[P.STREET].trim(),[P.HOUSE]:+e[P.HOUSE]}};let n;if(this.view.data){const t=this.view.data,{id:e}=t,s=function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(i[n[s]]=t[n[s]])}return i}(t,["id"]);switch(!(0,yt.A)(s,i)){case!0:n=_("edit-item",{item:Object.assign(Object.assign({},i),{id:this.view.data.id})});break;case!1:n=_("close-modal",{})}}else n=_("add-item",{item:i});this.dispatchEvent(n)},this.close=t=>{t.stopPropagation();const e=_("close-modal",{});this.dispatchEvent(e)},this.innerHTML='<div class="blackout"> <div class="organization-form"> <div class="organization-form__heading"></div> <div class="organization-form__field"> <div class="organization-form__field-label">Название:</div> <input-field id="organization" class="organization-form__input-field organization-form__input-field_organization" placeholder=\'ООО "Организация"\' type="text"></input-field> </div> <div class="organization-form__field"> <div class="organization-form__field-label">ФИО директора:</div> <input-field id="director" class="organization-form__input-field organization-form__input-field_director" placeholder="Сидоров А.А" type="text"></input-field> </div> <div class="organization-form__field"> <div class="organization-form__field-label">Номер телефона:</div> <input-field id="phone" class="organization-form__input-field organization-form__input-field_phone" placeholder="+7-222-333-54-38" type="phone"></input-field> </div> <div class="organization-form__field"> <div class="organization-form__field-label">Город:</div> <input-field id="city" class="organization-form__input-field organization-form__input-field_city" placeholder="Москва" type="text"></input-field> </div> <div class="organization-form__field"> <div class="organization-form__field-label">Улица:</div> <input-field id="street" class="organization-form__input-field organization-form__input-field_street" placeholder="Грибоедова" type="text"></input-field> </div> <div class="organization-form__field"> <div class="organization-form__field-label">Дом:</div> <input-field id="house" class="organization-form__input-field organization-form__input-field_house" placeholder="10" type="number"></input-field> </div> <div class="organization-form__buttons"> <action-button class="organization-form__close-button" text="Отмена" color="red"></action-button> <action-button class="organization-form__confirm-button" text="ОК"></action-button> </div> </div> </div> ',this.headingElement=this.getElementsByClassName("organization-form__heading")[0]||null,this.confirmButton=this.getElementsByClassName("organization-form__confirm-button")[0]||null,this.closeButton=this.getElementsByClassName("organization-form__close-button")[0]||null,Object.values(Ot).forEach(t=>{this.inputElemConfig[t]=this.getElementsByClassName(`organization-form__input-field_${t}`)[0]||null}),this.view=A({heading:"",isValid:!1,resetValidationDisplay:!1,data:null,formValues:Object.assign({},It),isShown:!1,isFormFieldsValid:Object.assign({},At)},(t,e)=>{switch(t){case"isShown":e?this.classList.remove(kt):this.classList.add(kt);break;case"isValid":this.confirmButton&&this.confirmButton.setAttribute("disabled",(!e).toString());break;case"resetValidationDisplay":this.setInputResetValidationDisplay(e);break;case"heading":this.headingElement&&(this.headingElement.textContent=e)}}),this.addEventListener("isValid:updated",this.updateFieldValidationState),this.addEventListener("value:updated",this.updateFieldsValue),this.confirmButton&&this.confirmButton.addEventListener("action-button-click",this.confirmButtonClick),this.closeButton&&this.closeButton.addEventListener("action-button-click",this.close)}static get observedAttributes(){return["is-shown"]}attributeChangedCallback(t,e,i){e!==i&&(this.view.isShown=y(this.getAttribute("is-shown"),!1),this.view.isShown?(this.view.resetValidationDisplay=!1,this.view.data=JSON.parse(this.getAttribute("data")),this.view.formValues=this.view.data?{[T.ORGANIZATION]:this.view.data[T.ORGANIZATION],[T.DIRECTOR]:this.view.data[T.DIRECTOR],[T.PHONE]:this.view.data[T.PHONE],[P.CITY]:this.view.data[T.ADDRESS][P.CITY],[P.STREET]:this.view.data[T.ADDRESS][P.STREET],[P.HOUSE]:this.view.data[T.ADDRESS][P.HOUSE].toString()}:Object.assign({},It),this.setInitialInputFieldValues(this.view.formValues),this.view.heading=(this.view.data?"Редактировать":"Добавить")+" организацию"):this.view.resetValidationDisplay=!0)}disconnectedCallback(){this.removeEventListener("isValid:updated",this.updateFieldValidationState),this.removeEventListener("value:updated",this.updateFieldsValue),this.confirmButton&&this.confirmButton.removeEventListener("action-button-click",this.confirmButtonClick),this.closeButton&&this.closeButton.removeEventListener("action-button-click",this.close)}}customElements.define("action-button",R),customElements.define("input-field",F),customElements.define("page-switcher",J),customElements.define("table-row",et),customElements.define("table-handbook",ct),customElements.define("controller-component",Et),customElements.define("organization-form",Pt)},914:(t,e,i)=>{i.d(e,{A:()=>o});var n=i(601),s=i.n(n),a=i(314),r=i.n(a)()(s());r.push([t.id,"page-switcher {\n  display: block;\n  width: min-content;\n}\n.page-switcher {\n  display: flex;\n  height: 50px;\n  width: min-content;\n  align-items: center;\n  font-family: '18vag';\n  font-size: 20px;\n  user-select: none;\n}\n.page-switcher__button {\n  height: 50px;\n  width: 50px;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgb(183, 183, 224);\n\n  cursor: pointer;\n}\n.page-switcher__counter {\n  height: 50px;\n  width: 80px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.counter div {\n  display: flex;\n}\n\n.counter :not(.counter__slash) {\n  width: 30%;\n}\n.counter__slash {\n  width: 20%;\n  justify-content: center;\n}\n.counter__current-page {\n  justify-content: end;\n}\n\n.counter__total-pages {\n  justify-content: start;\n}\n.page-switcher_btn-disabled-1 .page-switcher__button:first-child,\n.page-switcher_btn-disabled-2 .page-switcher__button:last-child {\n  background-color: rgb(182, 182, 194);\n  pointer-events: none;\n}\n",""]);const o=r}},i={};function n(t){var s=i[t];if(void 0!==s)return s.exports;var a=i[t]={id:t,exports:{}};return e[t](a,a.exports,n),a.exports}n.m=e,t=[],n.O=(e,i,s,a)=>{if(!i){var r=1/0;for(c=0;c<t.length;c++){for(var[i,s,a]=t[c],o=!0,l=0;l<i.length;l++)(!1&a||r>=a)&&Object.keys(n.O).every(t=>n.O[t](i[l]))?i.splice(l--,1):(o=!1,a<r&&(r=a));if(o){t.splice(c--,1);var d=s();void 0!==d&&(e=d)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[i,s,a]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var i=e.getElementsByTagName("script");if(i.length)for(var s=i.length-1;s>-1&&(!t||!/^http(s?):/.test(t));)t=i[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{n.b="undefined"!=typeof document&&document.baseURI||self.location.href;var t={792:0};n.O.j=e=>0===t[e];var e=(e,i)=>{var s,a,[r,o,l]=i,d=0;if(r.some(e=>0!==t[e])){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)var c=l(n)}for(e&&e(i);d<r.length;d++)a=r[d],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(c)},i=self.webpackChunkpolygon_app=self.webpackChunkpolygon_app||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})(),n.nc=void 0;var s=n.O(void 0,[515],()=>n(902));s=n.O(s)})();